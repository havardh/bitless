% !TEX root = ../../report.tex
\section{Power Supply}

Being on the energy efficiency group, maximum power utilization has been one of
our highest priorities. Therefore, we had to make sure that as little power as
possible goes to waste during the transformation from whatever input we get to
the voltage levels used onboard. Before deciding on a power supply design we
looked at what the previous groups had done, especially the energy efficiency
group of 2012, as they faced many of the same challenges as we have. Anything
before 2012 had more or less been using the same power supply, which was
designed to transform any excess power into heat. This is a very simple and
effective design, but not very efficient in terms of power saving as it utilizes
only a fraction of the input power.

Fortunately for us, the energy efficiency group of 2012 did a solid job on their
power supply, using a switch-mode regulator that were able to output 3.3V from
any input voltage starting at 4.75V up to 18V with an efficiency of 83-90\%, see
Appendix.\todo[inline]{add appendix sr10s3v3} So we copied most of their design
that consisted of a switch-mode regulator from an input voltage typically at
12V, and then a single linear voltage regulator that delivered both 1.2V and
1.8V output. Our original intentions was to disable the 1.8V domain entirely,
running the entire board at 1.2V and 3.3V, but as we opted for a larger FPGA the
FPGA flash had to be powered with 1.8V.

A feature we added from last year's group was the ability to power the board
from USB. The USB 1.x and 2.0 standard specification specifies that a constant
power draw of 500mA at 5.0V $\pm$ 5\% can be provided. \todo[inline]{Add
reference to the USB specification.} This should suffice for normal operation.

The main issue with the original design was that the current sensors were not
sensitive enough for low voltages, which resulted in inaccurate measurements. To
remedy this we simply changed the current sensor. Finding the right one took
some research as current sensors come in a variety of shapes and sizes, in terms
of supply voltage and sensitivity. In general, measuring energy consumption at
such small scales that we aimed for is difficult. In our case, we needed one
that could run on 3.3V and sense currents of the same range. Most current
sensors need at least 5V supply, or were not sensitive
enough.\todo[inline]{verify or re-writer}

