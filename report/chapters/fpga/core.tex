\FloatBarrier
\section{Processor Core}\label{section:fpga-processor-core}
\todo[inline]{How the processor is designed and why}

\subsection{Considerations}

The only way to noticably reduce the FPGA's power consumption, is to reduce the
amount of time it is \todo{Feil sier noen. Den drar ca like mye hele tiden den
er påslått.}active. Because of this the processor core has been designed with
the following principles:

\begin{enumerate}
	\item Support the instructions needed to perform audio transformation and filtering.
	\item As high throughput as possible. Thus reducing both the run time for the programs and the power consumption.
\end{enumerate}

Based on this, the decidion was made to design a pipelined five stage processor,
with the following stages in order: instruction fetch, instruction decode,
memory access, execute and write back. The memory stage is set before the
execute state. This is done since our load/store instructions doesn't need the
ALU to execute. Thus we're able to prevent load dependecies by simple
forwarding, instead of wasting a cycle on a no op.

For simplicity we have not added a control hazard unit for branching, but instead require that the programmer add two no ops after a branch.

\todo{Describe the processor pipeline}

\subsection{Floating-point implementation design choices}
\todo{?}

\subsection{Memory Accesses}
\todo[inline]{How the core accesses memory.}

