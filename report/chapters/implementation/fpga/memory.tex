%!TEX root = ../../../report.tex

\subsection{Memory Types}\label{subsec:fpga-memory}

The internal block RAMs in the FPGA were used to implement the different kinds
of memories inside the processor. Even though this limits the amount of
memory available, it guarantees equal access time for all the different
of memories. It also precludes having to use external RAM, which would not be as
fast, nor energy-efficient.

\subsubsection{Instruction Memory}
Each processor core has a separate instruction memory. This memory is used to
store the program that is run by a processor core.

\subsubsection{Audio Pipeline Buffers}
The audio pipeline buffers are used for passing data through the audio pipeline.
Each core has an input buffer and an output buffer, which stores the samples
that are processesed by the core and the result respectively. The processors
have read-only access to their input buffers and read-write access to their
output buffers.

The buffers have two different modes of operation. In the switching mode,
the buffers are divided into two partitions. One partition is available
as output buffer for a core, and the other partition is available as the
input buffer for the next core. When the sample clock\todo{Sample clock?}
changes, the buffer partitions are switched, thus passing data from the
output of one core to the input of the next.

When the ringbuffer mode is used, two sliding windows is used to partition
the buffer. Each core has access to their own window. On each sample clock
edge\todo{Sample clock again} the window is advanced by a predefined number
of samples.

\subsubsection{Constant Memory}
The constant memory is used to store constants needed for computations. Each
audio pipeline contains one constant memory which is shared between two
configurable processors in the pipeline. This limitation is due to the block
RAM on the FPGA used, which has only two available read ports.

